{*** 상품상세화면 | goods/goods_view.php ***}
{ # header }

<script src="../../../../lib/js/countdown.js"></script>
<script src="../js/option-handler.js" type="text/javascript"></script>
<script src="../js/view_goods.js" type="text/javascript"></script>
	
<style>

.godo-tooltip-related {background:#000000;color:#ffffff;}

</style>

<script>
function resizeFrameHeight(onm,height) {
	document.getElementById(onm).height = height;
}

function resizeFrameWidth(onm,width) {
	document.getElementById(onm).width = width;
}

var price = new Array();
var reserve = new Array();
var consumer = new Array();
var memberdc = new Array();
var realprice = new Array();
var couponprice = new Array();
var special_discount_amount = new Array();
var coupon = new Array();
var cemoney = new Array();
var opt1img = new Array();
var opt2icon = new Array();
var opt2kind = "{optkind[1]}";
var oldborder = "";
<!--{ @ _opt }--><!--{ @ .value_ }-->
<!--{ ? .index_ == 0 && ..index_ == 0 }-->
var fkey = '{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}';
<!--{ / }-->
price['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..price};
reserve['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..reserve};
consumer['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..consumer};
memberdc['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..memberdc};
realprice['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..realprice};
coupon['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..coupon};
couponprice['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..couponprice};
cemoney['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..coupon_emoney};
special_discount_amount['{=get_js_compatible_key(..opt1)}{?..opt2}|{=get_js_compatible_key(..opt2)}{/}'] = {..special_discount_amount};
<!--{ / }--><!--{ / }-->
<!--{ @ _opt1img }-->
opt1img['{.key_}'] = "{.value_}";
<!--{ / }-->
<!--{ @ _opticon[1] }-->
opt2icon['{.key_}'] = "{.value_}";
<!--{ / }-->

/* 필수 옵션 분리형 스크립트 start */
var opt = new Array();
opt[0] = new Array("('1차옵션을 먼저 선택해주세요','')");
<!--{ @ _opt }-->
opt['{.index_+1}'] = new Array("('== 옵션선택 ==','')",<!--{ @ .value_ }-->"('{=addslashes(addslashes(..opt2))}{?..price!=price} ({=number_format(..price)}원){/}{?usestock&&!..stock} [품절]{/}','{=addslashes(addslashes(..opt2))}','{?usestock&&!..stock}soldout{/}')"{?..index_!=..size_-1},{/}<!--{ / }-->);
<!--{ / }-->

function subOption(obj)
{
	var el = document.getElementsByName('opt[]');
	var sub = opt[obj.selectedIndex];
	while (el[1].length>0) el[1].options[el[1].options.length-1] = null;
	for (i=0;i<sub.length;i++){
		var div = sub[i].replace("')","").split("','");
		eval("el[1].options[i] = new Option" + sub[i]);
		if (div[2]=="soldout"){
			el[1].options[i].style.color = "#808080";
			el[1].options[i].setAttribute('disabled','disabled');
		}
	}
	el[1].selectedIndex = el[1].preSelIndex = 0;
	if (el[0].selectedIndex == 0) chkOption(el[1]);

	if(el[0].selectedIndex != '0'){
		var txt = document.getElementsByName('opt_txt[]');
		var vidx = el[0].selectedIndex - 1;
		var v = el[0][el[0].selectedIndex].value;
		txt[0].value = v + '|' + vidx;
		subOption_fashion();
	}
}
/* 필수 옵션 분리형 스크립트 end */

function chkOptimg(){
	var opt = document.getElementsByName('opt[]');
	var key = opt[0].selectedIndex;
	var opt1 = opt[0][key].value;
	var ropt = opt1.split('|');
	chgOptimg(ropt[0])
}

function chgOptimg(opt1){
	if(opt1img[opt1]){
		objImg.src = (/^http(s)?:\/\//.test(opt1img[opt1])) ? opt1img[opt1] : "../data/goods/"+opt1img[opt1];
	}else{
		objImg.src = (/^http(s)?:\/\//.test('{r_img[0]}')) ? '{r_img[0]}' : "../data/goods/{r_img[0]}";
	}

	<!--{? detailView == 'y' }-->
	objImg.setAttribute("lsrc", objImg.src);
	ImageScope.setImage(objImg, beforeScope, afterScope);
	<!--{/}-->
}

function chkOption(obj)
{
	if (!selectDisabled(obj)) return false;
}

function act(target)
{
	var form = document.frmView;
	form.action = target + ".php";

	var opt_cnt = 0, data;

	nsGodo_MultiOption.clearField();

	for (var k in nsGodo_MultiOption.data) {
		data = nsGodo_MultiOption.data[k];
		if (data && typeof data == 'object') {
			nsGodo_MultiOption.addField(data, opt_cnt);
			opt_cnt++;
		}
	}

	if (opt_cnt > 0) {
		form.submit();
	}
	else {
		if (chkGoodsForm(form)) form.submit();
	}

	return;
}

function chgImg(obj)
{
	var objImg = document.getElementById('objImg');
	if (obj.getAttribute("ssrc")) objImg.src = obj.src.replace(/\/t\/[^$]*$/g, '/')+obj.getAttribute("ssrc");
	else objImg.src = obj.src.replace("/t/","/");
	<!--{?detailView=='y'}-->
	// 디테일뷰 추가내용 2010.11.09
	if (obj.getAttribute("lsrc")) { 
		if (obj.getAttribute("lsrc").match( (/^http(s)?:/)) != null) { 
			objImg.setAttribute("lsrc", obj.getAttribute("lsrc")); 
		} 
		else { 
			objImg.setAttribute("lsrc", obj.src.replace(/\/t\/[^$]*$/g, '/')+obj.getAttribute("lsrc")); 
		} 
	}
	else objImg.setAttribute("lsrc", obj.getAttribute("src").replace("/t/", "/").replace("_sc.", '.'));
	ImageScope.setImage(objImg, beforeScope, afterScope);
	// 디테일뷰 추가내용 2010.11.09
	<!--{/}-->
}

function innerImgResize()	// 본문 이미지 크기 리사이징
{
	var objContents = document.getElementById('contents');
	var innerWidth = 645;
	var img = objContents.getElementsByTagName('img');
	for (var i=0;i<img.length;i++){
		img[i].onload = function(){
			if (this.width>innerWidth) this.width = innerWidth;
		};
	}
}

<!--{?detailView=='y'}-->
// 디테일뷰 추가내용 2010.11.09
function beforeScope() {
	document.getElementsByName("frmView")[0].style.visibility = "hidden";
}

function afterScope() {
	document.getElementsByName("frmView")[0].style.visibility = "visible";
}
// 디테일뷰 추가내용 2010.11.09
<!--{/}-->

<!--{?naverNcash=='Y'}-->
function mileage_info() {
	window.open("http://static.mileage.naver.net/static/20130708/ext/intro.html", "mileageIntroPopup", "width=404, height=412, status=no, resizable=no");
}
<!--{/}-->

function qr_explain()
{
	var qrExplainObj = document.getElementById("qrExplain");

	qrExplainObj.style.top = event.clientY + document.body.scrollTop - 15;
	qrExplainObj.style.left = event.clientX + document.body.scrollLeft + 40;
	qrExplainObj.style.display = "block";
}

function qrExplain_close()
{
	var qrExplainObj = document.getElementById("qrExplain");
	qrExplainObj.style.display = "none";
}

</script>
<script type="text/javascript">

function onicon(obj){
	oldborder = obj.style.border;
	obj.style.border="1 #333333 solid";
}
function outicon(obj){
	obj.style.border = oldborder;
}

function clicon(obj){
	var p = obj.parentNode.name;
	var ac = document.getElementsByName(p);
	if(ac){
		for(var i=0;i<ac.length;i++){
			ac[i].childNodes[0].style.border = "1 #cccccc solid";
		}
		obj.style.border="1 #333333 solid";
		oldborder="1 #333333 solid";
	}
}

function selicon(obj){
	var el = document.getElementsByName('opt[]');
	var idx = obj.selectedIndex - 1;
	if(obj == el[0]){
		var v = document.getElementsByName('icon[]');
		if (v.length > 0) {
			v = v[idx].childNodes[0];
			clicon(v);
		}

	}else{
		var v = document.getElementsByName('icon2[]');
		if (v.length > 0) {
			v = v[idx].childNodes[0];
			clicon(v);
		}
	}
}

function cp_explain(obj)
{
	var cp_explainObj = document.getElementById("cp_explain" + obj);
	cp_explainObj.style.top = event.clientY + document.body.scrollTop;
	cp_explainObj.style.left = event.clientX + document.body.scrollLeft ;
	cp_explainObj.style.display = "block";
}

function cp_explain_close(obj)
{
	var cp_explainObj = document.getElementById("cp_explain"+ obj);
	cp_explainObj.style.display = "none";
}
function fnRequestStockedNoti(goodsno) {
	window.open('./popup_request_stocked_noti.php?goodsno='+goodsno,360,230, 'scrollbars=no');
}

function fnPreviewGoods_(goodsno) {
	popup('../goods/goods_view.php?goodsno='+goodsno+'&preview=y','800','450');
}

function fnGodoTooltipShow_(obj) {

	var tooltip = document.getElementById('el-godo-tooltip-related');
	tooltip.innerText = obj.getAttribute('tooltip');

	var pos_x = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
	var pos_y = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;

	tooltip.style.top = (pos_y + 10) + 'px';
	tooltip.style.left = (pos_x + 10) + 'px';
	tooltip.style.display = 'block';
}

function fnGodoTooltipHide_(obj) {
	var tooltip = document.getElementById('el-godo-tooltip-related');
	tooltip.innerText = '';
	tooltip.style.display = 'none';
}

var nsGodo_MultiOption = new GMultiOption( {?runout}true{:}false{/} );
</script>

<div class="page-wrapper">
	<div class="detail_view_curr_pos">HOME > {=currPosition(category)}</div>
	<div class="indiv"><!-- Start indiv -->
		
		<div id="goods-view-body">
			<div id="goods-view-img">
				<div class="goods-view-thumb" >
					<span onclick="popup('goods_popup_large.php?goodsno={goodsno}',800,600)" style="cursor:pointer;">
					<!--디테일뷰수정--><!--{?detailView=='y'}--><!--{? sc_img[0]}-->{=goodsimg(sc_img[0],300,'id="objImg"','','zoom_view')}<!--{:}-->{=goodsimg(r_img[0],300,'id="objImg"','','zoom_view')}<!--{/}--><!--{:}-->{=goodsimg(r_img[0],300,'id=objImg')}<!--{/}--><!--디테일뷰수정--></span>
				</div>
				
				<!-- 
				<div class="btn">
					<img src="../img/icon/zoom-32.png" onclick="popup('goods_popup_large.php?goodsno={goodsno}',800,600)">
				</div>
				 -->
				 
				<div class="goods-view-more">
				<!--{ @ t_img }-->
					<!--{?detailView=='y'}-->
					{=goodsimg(.value_,45,"onmouseover='chgImg(this)' ssrc='"+sc_img[.index_]+"' lsrc='"+r_img[.index_]+"' style='cursor:pointer; border:1px solid #cccccc'")}
					<!--{:}-->
					{=goodsimg(.value_,45,"onmouseover='chgImg(this)' class=hand style='border:1px solid #cccccc'")}
					<!--{/}-->
				<!--{ / }-->
				</div>
			</div>
			
			<div class="goods-view-spec-header">
				<div class="goods-view-name" >
					<div class="goods-view-title">
						<!--{? clevel == '0' || slevel >= clevel }-->
						{goodsnm}
						<!--{: slevel < clevel && auth_step[1] == 'Y' }-->
						{goodsnm}
						<!--{/}-->
						<div class="goods-view-shortdesc">{shortdesc}</div>
						<!--{ ? goodscd }--><div class="goods-view-shortdesc">Code: {goodscd}</div><!--{ / }-->
						<div class="brand-star">
							<div id="brand-link"><!--{ ? brand }--><span>{brand}<a href="../goods/goods_brand.php?brand={brandno}">&nbsp;[브랜드바로가기]</a></span><!--{ / }--></div>
							<div id="goods-att"><!--{ ? chk_point}--><span class="star"><!--{ @ array_fill(0,chk_point,'') }-->★<!--{ / }--></span><!--{ / }--></div>
						</div>
					</div>
					
					<div class="goods-view-qrcode">
						<iframe src='/shop/lib/qrcodeImgMaker.php?s=2&d=http://francosmith.com/shop/goods/goods_view.php?goodsno={goodsno}&o=http://francosmith.com/shop/goods/goods_view.php?goodsno={goodsno}' marginheight='0' marginwidth='0' frameBorder='0' scrolling='no' allowTransparency='true' width="130px" height="130px"  ></iframe>
					</div>
				</div>
			</div>
			
			<!-- 상품 스펙 리스트 -->
			<div id="goods_spec">
			<!--디테일뷰수정-->
				<!--{?detailView=='y'}-->
				<div id="zoom_view" style="display:none; position:absolute; width:340px; height:370px;"></div>
				<!--{/}-->
				
				<!--디테일뷰수정-->
				<form name=frmView method=post onsubmit="return false">
					<input type=hidden name=mode value="addItem">
					<input type=hidden name=goodsno value="{goodsno}">
					<input type=hidden name=goodsCoupon value="{coupon}">
					<!--{ ? min_ea>1}--><input type="hidden" name="min_ea" value="{min_ea}"><!--{/}-->
					<!--{ ? max_ea!='0'}--><input type="hidden" name="max_ea" value="{max_ea}"><!--{ / }-->
				
				<!--{? clevel == '0' || slevel >= clevel || (slevel < clevel && auth_step[2] == 'Y')}-->
				<table id="goods-view-price-box" class="top1">
					<tr><td height=2></td></tr>
					<!--{ ? sales_status == 'ing'}-->
					<!--<tr><td><span style="padding-bottom:5px; padding-left:14px; color:#EF1C21">절찬리 판매중!!</span></td></tr>-->
					<!--{ : sales_status == 'range'}-->
					<tr>
						<!--  <th>남은시간 :</th>-->
						<td><span class="price-title">남은시간:</span><span id="el-countdown-1" class="timer"></span></td>
					</tr>
					<script type="text/javascript">
						Countdown.init('{=date('Y-m-d H:i:s',sales_range_end)}', 'el-countdown-1');
					</script>
					<!--{ : sales_status == 'before'}-->
					<tr><td><span style="padding-bottom:5px; padding-left:14px; color:#EF1C21">{=date('Y-m-d H:i:s',sales_range_start)} 판매시작합니다.</span></td></tr>
					<!--{ : sales_status == 'end'}-->
					<tr><td><span style="padding-bottom:5px; padding-left:14px; color:#EF1C21">판매가 종료되었습니다.</span></td></tr>
					<!--{ / }-->
		
					<!--{ ? runout && _cfg_soldout.price == 'image'}-->
					<tr>
						<!-- <th>판매가격 :</th>-->
						<td><img src="../data/goods/icon/custom/soldout_price"></td>
					</tr>
					<!--{ : runout && _cfg_soldout.price == 'string'}-->
					<tr>
						<!-- <th>판매가격 :</th>-->
						<td><b>{_cfg_soldout.price_string}</b></td>
					</tr>
					
					<!--{ : !strprice }-->
						<!--{ ? special_discount_amount }-->
						<tr>
							<!-- <th>판매금액 :</th> -->
							<td>
								<span class="price-normal price-strike" id="nprice">{=number_format(price)}</span><span class="price-won">원</span><span class="slash">/</span>
								<span class="price-sale" id="price-amount">{=number_format(price-special_discount_amount)}</span><span class="price-won">원</span><span class="slash">/</span>
								<span class="price-sale-ratio">SALE {=round(special_discount_amount/price*100)}%↓</span>
							</td>
						</tr>
						<!--{ : !special_discount_amount && coupon }-->
						<tr>
							<!-- <th>쿠폰적용가 :</th> -->	
							<td>
								<span class="price-normal price-strike" id="nprice">{=number_format(price)}</span><span class="price-won">원</span><span class="slash">/</span>
								<span class="price-sale" id="cprice">{=number_format(couponprice)}</span><span class="price-won">원</span><span class="slash">/</span>
								<span class="price-sale-ratio">SALE {=coupon/price * 100}%↓</span><span class="sale-txt">(쿠폰적용시)</span>
								<span class="slash"></span>
								<!--{ @ a_coupon }-->
								<span class="price-sale"><button onclick="ifrmHidden.location.href='../proc/dn_coupon_goods.php?goodsno={goodsno}&couponcd={.couponcd}'"  class="medium button-dark">쿠폰받기</button></span>
								<!-- {/} -->
								<!-- 
								<span id=obj_coupon style="font-weight:bold;color:#EF1C21">{=number_format(couponprice)}원&nbsp;(-{=number_format(coupon)}원)</span>
								<div>{about_coupon}</div>
								 -->
							</td>
						</tr>
						<!--{ : memberdc }-->
						<tr>
							<!-- <th>회원할인가 :</th> -->
							<td>
								<span class="price-normal price-strike" id="nprice">{=number_format(price)}</span><span class="price-won">원</span><span class="slash">/</span>
								<span class="price-sale" id="price-amount">{=number_format(price-memberdc)}</span><span class="price-won">원</span><span class="slash">/</span>
								<span class="price-sale-ratio">SALE {=memberdc/price * 100}%↓</span><span class="sale-txt">(회원할인)</span>
							</td>
						</tr>
						<!--{ : }-->
						<tr>
							<!-- <th>판매금액 :</th> -->
							<td>
								<span class="price-sale" id="nprice">{=number_format(price)}</span><span class="price-won">원</span>
							</td>
						</tr>
						<!--{ / }-->
						
						<!--{ ? consumer }-->
						<tr>
							<!-- <th>소비자가격 :</th> -->
							<td>
								<span id="consumer">{=number_format(consumer)}</span>원
							</td>
						</tr>
						<!--{ / }-->
						
						<tr>
							<!-- <th>예상적립금 :</th> -->
							<td><span class="price-title">예상 적립금:</span><span id=reserve>{=number_format(reserve)}</span>원&nbsp;<span class="price-title">(할인 상품은 결제금액 기준으로 적립)</span></td>
						</tr>
						
						
						<!--{ ? naverNcash == 'Y' }-->
						<tr id="naver-mileage-accum" style="display: none;">
							<!-- <th>네이버&nbsp;&nbsp;<br/>마일리지 :</th> -->
							<td>
								<!--{ ? exception }-->
									{exception}
								<!--{ : }-->
								<span class="price-title">네이버&nbsp;&nbsp;<br/>마일리지:</span>
								<span id="naver-mileage-accum-rate" style="font-weight:bold;color:#1ec228;"></span> 적립
								<!--{ / }-->
								<img src="\{_cfg.rootDir}/proc/naver_mileage/images/n_mileage_info4.png" onclick="javascript:mileage_info();" style="cursor: pointer; vertical-align: middle;">
							</td>
						</tr>
						<!--{ / }-->
						
						<!--{ ? coupon_emoney }-->
						<tr>
							<!-- <th>쿠폰적립금:</th> -->
							<td>
								<span class="price-title">쿠폰적립금:</span><span id=obj_coupon_emoney style="font-weight:bold;color:#EF1C21"></span> &nbsp;<span style="font:bold 9pt tahoma; color:#FF0000" >{=number_format(coupon_emoney)}원</span>
							</td></tr>
						<!--{ / }-->
						
						
						<!--{ ? delivery_type == 0 }-->
						<tr>
							<!-- <th>배송비 :</th>-->
							<td class="goods-view-delivery">
								<div class="delivery-info">
									<span class="price-title">{=number_format(2500)}원&nbsp;(10만원이상 구매시 무료배송)</span>
									<span>/</span>
									<span class="price-title"><!-- {? delivery_method} --> {delivery_method} <!-- {:} -->1~3일<!-- {/} --></span>
								</div>
							</td>
						</tr>
						<!--{ : delivery_type == 1 }-->
						<tr>
							<!-- <th>배송비 :</th>-->
							<td class="goods-view-delivery">
								<div class="delivery-info">
									<span class="price-title f14">무료배송</span>
									<span>/</span>
									<span class="price-title"><!-- {? delivery_method} --> {delivery_method} <!-- {:} -->1~3일<!-- {/} --></span>
								</div>
							</td>
						</tr>
						<!--{ : delivery_type == 2 }-->
						<tr>
							<!-- <th>개별배송비 :</th>-->
							<td class="goods-view-delivery">
								<div class="delivery-info">
									<span class="price-title f14">개별배송비:</span><span>{=number_format(goods_delivery)}원</span>
									<span>/</span>
									<span class="price-title"><!-- {? delivery_method} --> {delivery_method} <!-- {:} -->1~3일<!-- {/} --></span>
								</div>
							</td>
						</tr>
						<!--{ : delivery_type == 3 }-->
						<tr>
							<!--  <th>착불배송비:</th>-->
							<td class="goods-view-delivery">
								<div class="delivery-info">
									<span class="price-title f14">착불배송</span><!-- {=number_format(goods_delivery)}원-->
									<span>/</span>
									<span class="price-title"><!-- {? delivery_method} --> {delivery_method} <!-- {:} -->1~3일<!-- {/} --></span>
								</div>
										
							</td>
						</tr>
						<!--{ : delivery_type == 4 }-->
						<tr>
							<!-- <th>고정배송비 :</th>-->
							<td class="goods-view-delivery">
								<div class="delivery-info">
									<span class="price-title f14">고정배송비: </span><span>{=number_format(goods_delivery)}원</span> 
									<span>/</span>
									<span class="price-title"><!-- {? delivery_method} --> {delivery_method} <!-- {:} -->1~3일<!-- {/} --></span>
								</div>
							</td>
						</tr>
						<!--{ : delivery_type == 5 }-->
						<tr>
							<!-- <th>수량별배송비 :</th> -->
							<td class="goods-view-delivery">
								<div class="delivery-info">
									<span class="price-title f14">수량별배송비:</span><span>{=number_format(goods_delivery)}원 (수량에 따라 배송비가 추가됩니다.)</span>
									<span>/</span>
									<span class="price-title"><!-- {? delivery_method} --> {delivery_method} <!-- {:} -->1~3일<!-- {/} --></span>
								</div>
							</td>
						</tr>
						<!--{ / }-->
						
					<!--{ / }-->	
				</table>
				<!-- { / } -->
				
				
				<table class="top1">
					<!--{ ? manufacture_date }--><tr><th>제조일자 :</th><td>{manufacture_date}</td></tr><!--{ / }-->
					<!--{ ? effective_date_start }--><tr><th>유효일자 :</th><td>{effective_date_start} ~ {effective_date_end}</td></tr><!--{ / }-->
					<!--{ ? delivery_area }--><tr><th>배송지역 :</th><td>{delivery_area}</td></tr><!--{ / }-->
					<!--{ ? origin }--><!-- <tr><th>원산지 :</th><td>{origin}</td></tr>--><!--{ / }-->
					<!--{ ? launchdt }--><tr><th>출시일 :</th><td>{launchdt}</td></tr><!--{ / }-->
					
					<!--{ @ ex }-->
					<tr>
						<td>
							<div style="margin-left:10px; padding-left:35px;clear:both;"">
								<span class="price-title">- {.key_}:</span>
								<span class="price-title">{.value_}</span>
							</div>
						</td>
					</tr>
					<!--{ / }-->
				
					<!--{ ? !_opt }-->
					<tr >
						<td style="border-top:1px solid #fff; padding-top:15px;">
						<!--{ ? !runout }-->
							<div class="qty-title"><span class="v-middle">주문수량</span></div>
							<div style="inline-block;float:left;">
								<input type=text name=ea size=2 value={? min_ea}{min_ea}{:}1{/} class=line style="text-align:right;height:20px;font-size:14px;" step="{? sales_unit}{sales_unit}{:}1{/}" min="{? min_ea}{min_ea}{:}1{/}" max="{? max_ea}{max_ea}{:}0{/}" onblur="chg_cart_ea(frmView.ea,'set');">
							</div>
							<!-- 
							<div style="float:left;padding-left:3">
								<div style="padding:1 0 2 0"><img src="../img/common/btn_plus.gif" onClick="chg_cart_ea(frmView.ea,'up')" style="cursor:pointer"></div>
								<div><img src="../img/common/btn_minus.gif" onClick="chg_cart_ea(frmView.ea,'dn')" style="cursor:pointer"></div>
							</div>
							 -->
							 <!-- <div class="qty-ea"><span class="v-middle">개</span></div>-->
							 <!-- <div style="padding-top:3; float:left">개</div>  -->
							 
							<div style="padding-left:10px;float:left" class="stxt">
								<!--{ ? min_ea>1}--><div>최소구매수량 : {min_ea}개</div><!--{ / }-->
								<!--{ ? max_ea!='0'}--><div>최대구매수량 : {max_ea}개</div><!--{ / }-->
								<!--{ ? sales_unit>1}--><div>묶음주문단위 : {sales_unit}개</div><!--{ / }-->
							</div>
						<!--{ : }-->
							<span class="price-title v-middle" style="padding-left:10px;">품절된 상품입니다</span>
						<!--{ / }-->
						</td>
					</tr>
					<tr><td height="5"></td></tr>
					<!--{ : }-->
						<input type=hidden name=ea step="{? sales_unit}{sales_unit}{:}1{/}" min="{? min_ea}{min_ea}{:}1{/}" max="{? max_ea}{max_ea}{:}0{/}" value={? min_ea}{min_ea}{:}1{/}>
					<!--{ / }-->
				</table>

				<!--{ ? !strprice }-->
				<!-- 추가 옵션 입력형 -->
				<!--{ ? _addopt_inputable }-->
				<table class="top1">
					<!--{ @ _addopt_inputable }-->
					<tr><th>{.key_} :</th>
					<td>
						<input type="hidden" name="_addopt_inputable[]" value="">
						<input type="text" name="addopt_inputable[]" label="{.key_}" option-value="{.sno}^{.key_}^{.opt}^{.addprice}" value="" { ? _addopt_inputable_req[.index_] }required fld_esssential{/} maxlength="{.opt}">
					</td></tr>
					<!--{ / }-->
				</table>
				<!--{ / }-->

				<!-- 필수 옵션 일체형 -->
				<!--{ ? _opt && _typeOption=="single" }-->
				<table class="top1">
					<tr><td height="3px"></td></tr>
					<tr>
						<td>
							<span class="option-title">{optnm}</span>
							<div class="option-select1">
								<select class="soflow" name="opt[]" onchange="chkOption(this);chkOptimg();nsGodo_MultiOption.set();updateUnitPrice(this, {price}, {special_discount_amount}, nsGodo_MultiOption);" required fld_esssential msgR="{optnm} 선택을 해주세요">
									<option value="">== 옵션선택 ==
									<!--{ @ _opt }--><!--{ @ .value_ }-->
										<option value="{..opt1}{?..opt2}|{..opt2}{/}" {?usestock&&!..stock} disabled class=disabled{/}>{..opt1}{?..opt2}/{..opt2}{/} {?..price!=price}({=number_format(..price)}원){/}
									<!--{ ? usestock && !..stock }--> [품절]<!--{ / }-->
									<!--{ / }--><!--{ / }-->
								</select>
							</div>
						</td>
					</tr>
					<tr><td height=6></td></tr>
				</table>
				<!--{ / }-->


				<!-- 필수 옵션 분리형 -->
				<!--{ ? _opt && _typeOption=="double" }-->
				<table class="top1">
					<tr><td height="3px"></td></tr>
					<!--{ @ _optnm }-->
					<tr>
						<td>
							<span class="option-title">{.value_}</span>
							<!-- 옵션 선택 -->
							<div class="option-select1">
							<!--{ ? !.index_ }-->
								<select name="opt[]" class="soflow" onchange="subOption(this);chkOptimg();selicon(this);nsGodo_MultiOption.set();" required fld_esssential msgR="{.value_} 선택을 해주세요">
									<option value="">== 옵션선택 ==
									<!--{ @ (_opt) }--><option value="{..key_}">{..key_}<!--{ / }-->
								</select>
							<!--{ : }-->	
								<select name="opt[]" class="soflow" onchange="chkOption(this);selicon(this);nsGodo_MultiOption.set();" required fld_esssential msgR="{.value_} 선택을 해주세요"><option value="">==선택==</select>
							<!--{ / }-->
							</div>
							<input type="hidden" name="opt_txt[]" value="">	
						</td>
					</tr>
					<!--{ / }-->
					<tr><td height=6></td></tr>
				</table>
				<script>subOption(document.getElementsByName('opt[]')[0])</script>
				<!--{ / }-->

				<!-- 추가 옵션 -->
				<!--{ @ _addopt }-->
				<table class="top1"><!--  class=sub>-->
					<tr>
						<td><span class="option-title">{.key_}</span>
							<div class="option-select1">
						<!--{ ? _addoptreq[.index_] }-->
							
							<select class="soflow" name="addopt[]" required fld_esssential label="{.key_}" onchange="nsGodo_MultiOption.set();">
								<option value="">=={.key_} 선택==</option>
						<!--{ : }-->
							<select class="soflow" name="addopt[]" label="{.key_}" onchange="nsGodo_MultiOption.set(); updatePrice(this, {price}, {special_discount_amount});">
								<option value="">=={.key_} 선택==</option>
								<option value="-1">선택안함</option>
						<!--{ / }-->
						<!--{ @ .value_ }-->
							<option value="{..sno}^{.key_}^{..opt}^{..addprice}">{..opt}
							<!--{ ? ..addprice }-->({=number_format(..addprice)}원 추가)<!--{ / }-->
							</option>
						<!--{ / }-->
							</select>
						</div>
						</td>
					</tr>
				</table>
				<!--{ / }-->

				<!-- ? 옵션 있으면 see 옵션백업.js-->
				
				<div id="fb-root"></div>
				<script>
					(function(d, s, id) {
					  var js, fjs = d.getElementsByTagName(s)[0];
					  if (d.getElementById(id)) return;
					  js = d.createElement(s); js.id = id;
					  js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.5";
					  fjs.parentNode.insertBefore(js, fjs);
					}(document, 'script', 'facebook-jssdk'));
				</script>

				<div id="el-multi-option-display" class="goods-multi-option">
					<table style="border-collapse:collapse;">
						<col width=""><col width="60"><col width="150">
					</table>
				
					<div id="price-total">
						<div id="prod-price-amount" class="amount">					
						  <span class="payment-title">합계금액:</span><span class="payment-amount bold" id="el-multi-option-total-price"></span>
						</div> 
					</div>
					
					<div id="prod-price-discount" style="display:none;">
					  	<div id="discount-amount" class="amount-noline"><span class="payment-title">할인금액:</span><span class="payment-amount pred"  id="el-multi-option-discount-amount"></span></div>
					  	<div id="payment-amount" class="amount"><span class="payment-title">결제금액:</span><span class="payment-amount pred bold"  id="el-multi-option-payment-amount"></span></div>
					</div>
						
				</div>
				
				<!-- / -->

				<!--{ / }-->
				{cyworldScrap}
				{snsBtn}


				<!--{? setGoodsConfig == 'Y' }-->
				<a href="../setGoods/?cody={goodsno}"><img src="../img/common/btn_codylink.gif"></a>
				<!--{/}-->
				<!-- 각종 버튼 -->
				<div class="shop_buttons">
					<!--{ ? stocked_noti}-->
					<div class="backorder_txt">&nbsp;재입고 알림 신청을 하시면 입고시 알림 서비스를 받으실 수 있습니다.</div>
					<!--{ / }-->
					<!--{ ? !strprice && !runout && (sales_status == 'ing' || sales_status == 'range')}-->
					<!--{? clevel == '0' || slevel >= clevel }-->
					
					<button class="button-big-wide button-red" onclick="cartAdd(frmView,'{ cartCfg->redirectType }')">장바구니</button>
					<button class="button-big-wide button-dark" onclick="act('../order/order')">바로구매</button>
					<button class="button-big-wide button-grey-b" onclick="act('../mypage/mypage_wishlist')">WishList</button>
					
					<!--{ / }-->
					<!--{ / }-->
					<!--{ ? stocked_noti}-->
					<button class="button-big button-cart" onclick="fnRequestStockedNoti('{goodsno}');">재입고 알림 신청</button>
					<!--<a href="javascript:fnRequestStockedNoti('{goodsno}');"><img src="../img/common/btn_backorder_alert.png"></a>-->
					<!--{ / }-->
					<!--<a href="goods_list.php?category={_GET.category}"><img src="../img/common/btn_list.gif"></a>-->
				</div>

				<!--  SNS Share -->
				<div class="share-buttons">
					<span id='sb_facebook' ></span> 
				  	<span id='sb_twitter'></span> 
				  	<span id='sb_googleplus'></span> 
				  	<span id='sb_pinterest'></span> 
				  	<span id='sb_reddit'></span>
				  	<div id="sns_count">
					  	<div class="fb-like" data-href="http://francosmith.com/shop/goods/goods_view.php?goodsno={goodsno}" data-layout="button_count" data-width="90" data-action="like" data-show-faces="true"></div>
				  	</div>
				</div>

				<div id="naver-pay">{naverCheckout}</div>
				<div>{auctionIpayBtn}</div>
				{plusCheeseBtn}
				</form>
			</div><!--  goods-view-spec -->
		</div><!-- goods-view-body -->

		
		<!-- <table style="clear:both;" border="5">
		<tr>
			<td> -->
		<div id="in-detail-wrapper">	
			<div class="dot-line"></div>
			
			<!--{ ? coupon || coupon_emoney }-->
			<!-- 할인쿠폰 다운받기 -->
			<div style="clear:both; width:100%; margin:0 auto; display:inline-block;height:70px; padding-top:10px;">
				<div style="margin:0 auto; padding:10 0 0 0; width:600px; height:70px; border-bottom:1px dotted #cccccc" >
					<div style="float:left; margin-right:20px; display:inline-block;"><img src="../img/common/coupon_txt.gif"></div>
					<!--{ @ a_coupon }-->
					<div onclick="ifrmHidden.location.href='../proc/dn_coupon_goods.php?goodsno={goodsno}&couponcd={.couponcd}'" class=hand>
						<!--{ ? .coupon_img == 4 }-->
						<div style="margin-top:5px; float:left;font:bold 12px tahoma;color:#FF0000;text-align:center;padding:19px 40px 0 0;width:140px;height:54px;background:url('{=coupon_img_path}{=(.coupon_img_file)}') no-repeat;" onmouseover="cp_explain('{.index_}');" onmouseout="cp_explain_close('{.index_}');">{_r_couponAbility[.ability]}{?substr(.price,-1)!="%"}{=number_format(.price)}원{:}{.price}{/}</div>
						<!--{ : }-->
						<div style="margin-top:5px; float:left;font:bold 12px tahoma;color:#FF0000;text-align:center;padding:19px 20px 0 0;width:140px;height:54px;background:url('../img/common/coupon0{=(.coupon_img +1)}.gif') no-repeat;" ><span style="position:relative; top:10px;">{_r_couponAbility[.ability]}{?substr(.price,-1)!="%"}{=number_format(.price)}원{:}{.price}{/}</span></div>
						<div style="float:left;margin-top:5px;" >
							<div style="padding:0 0 0 0;color:#FF0000;text-align:center;width:200px;font:bold 12px tahoma;">{=.coupon_detail}</div>
							<!--{ ? .coupon_priodtype == 0 }-->
							<div style="padding:10 0 0 0;text-align:center;">{=.coupon_sdate } 부터</div>
							<div style="text-align:center;">{=.coupon_edate} 까지</div>
							<!--{ : }-->
							<div style="padding:10 0 0 0;text-align:center;">발급 후 {=.coupon_sdate } 일 간 사용 가능</div>
							<!--{ / }-->
							<!--{ ? .payMethodStr }-->
							<div style="padding:0 0 0 0;text-align:center;width:200px;">{=.payMethodStr}</div>
							<!--{ / }-->
						</div>
						<!--{ / }-->
					<!--{ / }-->
					</div>
				</div>
			</div>
			
			<!--{ / }-->
			<!-- 할인쿠폰 다운 END -->
				
			<!-- 상품공시 정보 -->
			<!--{ ? extra_info.size_ }-->
			<div class="extra-information-title">상품정보제공 고시</div>
			<table class="extra-information">
			<tr>
			<!--{ @ extra_info }-->
				<th>{=extra_info.title}</th>
				<td {? .colspan > 1}colspan="{.colspan}"{/}>{=extra_info.desc}</td>
				{? .nkey && (! _extra_info[ .nkey ] || .key_ % 2 == 0)}
				</tr><tr>
				{/}
			<!--{ / }-->
			</tr>
			</table>
			<div class="dot-line"></div>
			<!--{ / }-->
			
			<div class="label-link">
				<span id="accessery"><a href="#related-goods-container">Related/Accessories</a></span>
				<span id="features"><a href="#goods-desc-contents">Features</a></span>
				<span id="sepcification"><a href="#specifications">Specification</a></span>
				<span id="reviews"><a href="#review-container">Reviews</a></span>
				<span id="return-link"><a href="#delivery-info">Delivery/Returns</a></span>
				
			</div> 
			<div class="dot-line"></div>
			
			<div id="related-goods-container" >
				<table  id="related-goods">
				<tr><td height=10></td></tr>
				<tr>
					<!--{ @ dataGoodsRelation( goodsno, _cfg_related.max ) }-->
					<!--{ ? .index_ && .index_% _cfg_related.horizontal ==0 }--></tr><tr><td height=10></td></tr><tr><!--{ / }-->
					<td align=center valign=top width="{100/_cfg_related.horizontal}%">
					<!--{ ? _cfg_related.dp_image }--><div><a href="goods_view.php?goodsno={.goodsno}" { ? _cfg_related.link_type == 'blank'} target="_blank"{/} { ? _cfg_related.dp_shortdesc }onmouseover="fnGodoTooltipShow_(this)" onmousemove="fnGodoTooltipShow_(this)" onmouseout="fnGodoTooltipHide_(this)" tooltip="{.shortdesc}"{/} >{=goodsimg(.img_s,_cfg_related.size)}</a></div><!--{ / }-->
					<!--{ ? _cfg_related.use_cart }--><div><a href="javascript:void(0);" onClick="fnPreviewGoods_({.goodsno});"><img src="{_cfg_related.cart_icon}"></a></div><!--{ / }-->
					<!--{ ? _cfg_related.dp_goodsnm }--><div style="padding:5"><a href="goods_view.php?goodsno={.goodsno}" { ? _cfg_related.dp_shortdesc }onmouseover="fnGodoTooltipShow_(this)" onmousemove="fnGodoTooltipShow_(this)" onmouseout="fnGodoTooltipHide_(this)" tooltip="{.shortdesc}"{/}>{.goodsnm}</a></div><!--{ / }-->
					<!--{ ? _cfg_related.dp_price }--><div><!--{ ? .strprice }-->{.strprice}<!--{ : }--><b>{=number_format(.price)}원<!--{ / }--></b></div><!--{ / }-->
					<!--{ ? .icon }--><div style="padding:5">{.icon}</div><!--{ / }-->
					</td>
					<!--{ / }-->
				</tr>
				</table>
			</div>
				
			<div id="el-godo-tooltip-related" style="z-index:1000;display:none;position:absolute;top:0;left:0;width:{=_cfg_related.size}px;padding:10px; -moz-opacity:.70; filter:alpha(opacity=70); opacity:.70;line-height:140%;" class="godo-tooltip-related">
			</div>
					
			<!-- 상세 설명 -->
			<div id="goods-desc-contents"">
			{longdesc}
			<script>setViewMoreFrom('View More From', 'view-more-catetory', "{=currPosition(category)}");</script>
			</div>
			<div class="dot-line"></div>
			
			<!--{? use_external_video }-->
			<div style="padding:10px 0" id="external-video">
				{=youtubePlayer(external_video_url, external_video_size_type, external_video_width, external_video_height)}
			</div>
			<!--{/}-->
			
			<!-- 상품 공통 정보 시작 -->
			<!--{ @commoninfo() }-->
			<table border=0 cellpadding=0 cellspacing=0>
			<tr>
				<TD style="background: URL(../img/common/bar_detail_l.gif) no-repeat;" nowrap width="10" height="24"></TD>
				<TD style="background: URL(../img/common/bar_detail_c.gif) repeat-x; font-weight:bold;" width='100%'>{=.title}2</TD>
				<TD style="background: URL(../img/common/bar_detail_r.gif) no-repeat;" nowrap width="10" height="24">3</TD>
			</tr>
			</table>
			<div style="width:100%;padding:10 10 10 10;overflow:hidden">
				<table cellspacing=0 cellpadding=0>
				<tr>
					<td>{=.info}</td>
				</tr>
				</table>
			</div>
			<div style="margin-bottom:20px;"></div>
			<!--{ / }-->
			<!-- 상품 공통 정보 종료 -->
			
			
			<!-- 상품 사용기 -->
			<div id="review-container" style="margin-top:20px; width:100%;">
				<iframe id="inreview" src="./goods_review_list.php?goodsno={goodsno}" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="position:relative; width:100%"></iframe>
			</div>
			
			<div id="qna-container" style="margin-top:20px; width:100%;">
			<!-- 상품 질문과답변 -->
			<iframe id="inqna" src="./goods_qna_list.php?goodsno={goodsno}" frameborder="0" marginwidth="0" marginheight="0"  scrolling="no" style="position:relative; width:100%"></iframe>
			</div>
		
			
			<div id="recent-view-goods-container">
				<div><h4>최근 본 상품</h4></div>
				<div class="single-row" >
					<!--{ @ _todayGoodsList }-->
					<div class="goods-thumb" ><a href="../goods/goods_view.php?goodsno={.goodsno}">{=goodsimg(.img,70)}</a></div>
					<!--{ / }-->
				</div>
			</div>
			
			<div id="return-title">
				<h2>배송/반품 안내</h2>
			</div>
			
			<div id="delivery-info" style="margin-top:20px; padding-bottom:20px;width:100%;">
				{= include_file('proc/shopping_info.htm') }
			</div>
			
			
			
		<!-- 
			</td>
		</tr>
		</table>
		 -->
		</div>
	</div>
	<!-- End indiv -->

		<div style="display:none;position:absolute;z-index:10;cursor:hand;" id="qrExplain" onclick="qrExplain_close();">
		<table>
		<tr>
			<td width="4" height="271" valign="top" background="../img/common/page02_detail_blt.gif" style="background-repeat:no-repeat"></td>
			<td  width="285" height="271" valign="top" background="../img/common/page02_detail.gif"></td>
		</tr>
		</table>
		<div style='width:289' onclick="qrExplain_close();" style="cursor:hand;text-align:center">[닫기]</div>
		</div>
		
		<script type="text/javascript">
			// SNS 공유버튼 바인딩
			var domain = "http://francosmith.com/";
			var goods_url = "shop/goods/goods_view.php?goodsno={goodsno}";
			var goods_name = "{= str_replace("\"", "\\\"", goodsnm)}" ;
			var goods_image = 'shop/data/goods/{r_img[0]}';
			var jq = jQuery.noConflict();
			jq(".share-buttons span").each(function() {
				bind_share_button(this.id, domain+goods_url, goods_name, domain+goods_image);			  
			});
		</script>
		
		{ # footer }
		<!--디테일뷰수정-->
		<!--{?detailView=='y'}-->
		<script type="text/javascript">
		var objImg = document.getElementById("objImg");
		objImg.setAttribute("lsrc", objImg.getAttribute("src").replace("/t/", "/").replace("_sc.", '.'));
		ImageScope.setImage(objImg, beforeScope, afterScope);	
		</script>
		<!--{/}-->
		<!--디테일뷰수정-->
</div><!--  END page-wrapper -->	
	
